<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SWI FF Hub - League History</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-header">
    <div class="logo-crop">
      <a href="index.html"><img src="assets/logo.png" alt="SWI FF Hub Logo" class="logo" /></a>
      <img src="assets/logo-icon.png" alt="SWI FF Hub Icon" class="logo-icon" />
    </div>
    <button class="nav-toggle" aria-label="Toggle navigation">
      &#9776; 
    </button>
    
    <nav class="navbar">
      <ul class="nav-links">
        <li><a href="index.html">League History</a></li>
        <li><a href="draft-party.html">Draft Party</a></li>
        <li><a href="news-and-updates.html">News & Updates</a></li>
        <li><a href="the-loot.html">The Loot</a></li>
        <li><a href="help-center.html">Help Center</a></li>
      </ul>
    </nav>
    <div id="red-rectangle"></div>
  </header>


  

  <main class="container">
    <h1>League History</h1>

    <input type="text" id="table-search" class="table-search" placeholder="Search Manager...">
    <table id="stats-table" class="display">
        <thead>
            <tr>
            <th class="sortable">Manager</th>
            <th class="sortable">Total Wins</th>
            <th class="sortable">Total Losses</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>John Doe</td><td>12</td><td>3</td></tr>
            <tr><td>Jane Smith</td><td>10</td><td>5</td></tr>
            <tr><td>Mike Johnson</td><td>8</td><td>7</td></tr>
            <tr><td>Emily Davis</td><td>6</td><td>9</td></tr>
        </tbody>
    </table>


  </main>

  <footer>
    <div class="container">
      <p>Â© 2025 SWI FF Hub. All rights reserved.</p>
    </div>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const headers = document.querySelectorAll("#league-info-panel h3");
    
      headers.forEach((header) => {
        // Grab all sibling content until the next h3
        let panelContent = [];
        let sibling = header.nextElementSibling;
        while (sibling && sibling.tagName !== "H3") {
          panelContent.push(sibling);
          sibling = sibling.nextElementSibling;
        }
    
        // Wrap content in accordion-panel div
        const wrapper = document.createElement("div");
        wrapper.classList.add("accordion-panel");
        panelContent.forEach(el => wrapper.appendChild(el));
        header.parentNode.insertBefore(wrapper, sibling);
    
        // Click toggle
        header.addEventListener("click", () => {
          const openPanel = document.querySelector(".accordion-panel.open");
          if (openPanel && openPanel !== wrapper) {
            openPanel.classList.remove("open");
            openPanel.previousElementSibling.classList.remove("active");
          }
          wrapper.classList.toggle("open");
          header.classList.toggle("active");
        });
      });
    });
  </script>
  <script>
    $(document).ready(function() {
        $('#stats-table').DataTable({
        pageLength: 5,
        lengthChange: false,
        searching: true,  // adds search/filter box
        ordering: true    // enables column sorting
        });
    });
    // --- Sorting ---
    document.querySelectorAll('.display th.sortable').forEach((header, index) => {
        header.addEventListener('click', () => {
            const table = header.closest('table');
            const tbody = table.querySelector('tbody');
            const rows = Array.from(tbody.querySelectorAll('tr'));
            const asc = !header.classList.contains('sorted-asc');

            rows.sort((a, b) => {
            const aText = a.children[index].textContent.trim();
            const bText = b.children[index].textContent.trim();

            // Check if numeric
            if (!isNaN(aText) && !isNaN(bText)) {
                return asc ? aText - bText : bText - aText;
            } else {
                return asc ? aText.localeCompare(bText) : bText.localeCompare(aText);
            }
            });

            // Remove previous rows
            tbody.innerHTML = '';
            rows.forEach(row => tbody.appendChild(row));

            // Update sort classes
            table.querySelectorAll('th').forEach(th => th.classList.remove('sorted-asc', 'sorted-desc'));
            header.classList.add(asc ? 'sorted-asc' : 'sorted-desc');
        });
    });

    // --- Search Filter ---
    document.getElementById('table-search').addEventListener('input', (e) => {
        const filter = e.target.value.toLowerCase();
        const rows = document.querySelectorAll('#stats-table tbody tr');

        rows.forEach(row => {
            const text = row.children[0].textContent.toLowerCase(); // filter by Manager name
            row.style.display = text.includes(filter) ? '' : 'none';
        });
    });

</script>
  <script src="functions.js" defer></script>

    

</body>
</html>
